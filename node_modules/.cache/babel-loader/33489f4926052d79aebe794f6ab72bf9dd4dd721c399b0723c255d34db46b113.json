{"ast":null,"code":"import _objectSpread from\"C:/Project/admin-panel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import{collection,onSnapshot,addDoc,doc,deleteDoc}from\"firebase/firestore\";import{db}from\"../firebase\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function StakingPlans(){const[plans,setPlans]=useState([]);const[name,setName]=useState(\"\");const[reward,setReward]=useState(\"\");useEffect(()=>{const unsubscribe=onSnapshot(collection(db,\"stakingPlans\"),snapshot=>{setPlans(snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data())));});return()=>unsubscribe();},[]);const addPlan=async()=>{await addDoc(collection(db,\"stakingPlans\"),{name,reward});setName(\"\");setReward(\"\");};const deletePlan=async id=>{await deleteDoc(doc(db,\"stakingPlans\",id));};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Staking Plans \"}),\" \",/*#__PURE__*/_jsx(\"input\",{placeholder:\"Plan Name\",value:name,onChange:e=>setName(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"input\",{placeholder:\"Reward %\",value:reward,onChange:e=>setReward(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:addPlan,children:\" Add Plan \"}),/*#__PURE__*/_jsxs(\"ul\",{children:[\" \",plans.map(plan=>/*#__PURE__*/_jsxs(\"li\",{children:[\" \",plan.name,\" - \",plan.reward,\" %\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>deletePlan(plan.id),children:\" Delete \"}),\" \"]},plan.id)),\" \"]}),\" \"]});}","map":{"version":3,"names":["useEffect","useState","collection","onSnapshot","addDoc","doc","deleteDoc","db","jsx","_jsx","jsxs","_jsxs","StakingPlans","plans","setPlans","name","setName","reward","setReward","unsubscribe","snapshot","docs","map","_objectSpread","id","data","addPlan","deletePlan","style","padding","children","placeholder","value","onChange","e","target","onClick","plan"],"sources":["C:/Project/admin-panel/src/components/StakingPlans.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { collection, onSnapshot, addDoc, doc, deleteDoc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\n\r\nexport default function StakingPlans() {\r\n    const [plans, setPlans] = useState([]);\r\n    const [name, setName] = useState(\"\");\r\n    const [reward, setReward] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onSnapshot(collection(db, \"stakingPlans\"), (snapshot) => {\r\n            setPlans(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const addPlan = async() => {\r\n        await addDoc(collection(db, \"stakingPlans\"), { name, reward });\r\n        setName(\"\");\r\n        setReward(\"\");\r\n    };\r\n\r\n    const deletePlan = async(id) => {\r\n        await deleteDoc(doc(db, \"stakingPlans\", id));\r\n    };\r\n\r\n    return ( <\r\n        div style = {\r\n            { padding: \"2rem\" } } >\r\n        <\r\n        h2 > Staking Plans < /h2> <\r\n        input placeholder = \"Plan Name\"\r\n        value = { name }\r\n        onChange = { e => setName(e.target.value) }\r\n        /> <\r\n        input placeholder = \"Reward %\"\r\n        value = { reward }\r\n        onChange = { e => setReward(e.target.value) }\r\n        /> <\r\n        button onClick = { addPlan } > Add Plan < /button>\r\n\r\n        <\r\n        ul > {\r\n            plans.map(plan => ( <\r\n                li key = { plan.id } > { plan.name } - { plan.reward } %\r\n                <\r\n                button onClick = {\r\n                    () => deletePlan(plan.id) } > Delete < /button> <\r\n                /li>\r\n            ))\r\n        } <\r\n        /ul> <\r\n        /div>\r\n    );\r\n}"],"mappings":"2GAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,UAAU,CAAEC,UAAU,CAAEC,MAAM,CAAEC,GAAG,CAAEC,SAAS,KAAQ,oBAAoB,CACnF,OAASC,EAAE,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACnC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACgB,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAExCD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAmB,WAAW,CAAGhB,UAAU,CAACD,UAAU,CAACK,EAAE,CAAE,cAAc,CAAC,CAAGa,QAAQ,EAAK,CACzEN,QAAQ,CAACM,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACjB,GAAG,EAAAkB,aAAA,EAAOC,EAAE,CAAEnB,GAAG,CAACmB,EAAE,EAAKnB,GAAG,CAACoB,IAAI,CAAC,CAAC,CAAG,CAAC,CAAC,CACvE,CAAC,CAAC,CACF,MAAO,IAAMN,WAAW,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,OAAO,CAAG,KAAAA,CAAA,GAAW,CACvB,KAAM,CAAAtB,MAAM,CAACF,UAAU,CAACK,EAAE,CAAE,cAAc,CAAC,CAAE,CAAEQ,IAAI,CAAEE,MAAO,CAAC,CAAC,CAC9DD,OAAO,CAAC,EAAE,CAAC,CACXE,SAAS,CAAC,EAAE,CAAC,CACjB,CAAC,CAED,KAAM,CAAAS,UAAU,CAAG,KAAM,CAAAH,EAAE,EAAK,CAC5B,KAAM,CAAAlB,SAAS,CAACD,GAAG,CAACE,EAAE,CAAE,cAAc,CAAEiB,EAAE,CAAC,CAAC,CAChD,CAAC,CAED,mBAASb,KAAA,QACDiB,KAAK,CACL,CAAEC,OAAO,CAAE,MAAO,CAAG,CAAAC,QAAA,eACzBrB,IAAA,OAAAqB,QAAA,CACI,iBAAe,CAAK,CAAC,IAAC,cAAArB,IAAA,UACpBsB,WAAW,CAAG,WAAW,CAC/BC,KAAK,CAAKjB,IAAM,CAChBkB,QAAQ,CAAKC,CAAC,EAAIlB,OAAO,CAACkB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAG,CAC1C,CAAC,IAAC,cAAAvB,IAAA,UACGsB,WAAW,CAAG,UAAU,CAC9BC,KAAK,CAAKf,MAAQ,CAClBgB,QAAQ,CAAKC,CAAC,EAAIhB,SAAS,CAACgB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAG,CAC5C,CAAC,IAAC,cAAAvB,IAAA,WACI2B,OAAO,CAAKV,OAAS,CAAAI,QAAA,CAAE,YAAU,CAAS,CAAC,cAElDnB,KAAA,OAAAmB,QAAA,EACI,GAAC,CACDjB,KAAK,CAACS,GAAG,CAACe,IAAI,eAAM1B,KAAA,OAAAmB,QAAA,EACM,GAAC,CAAEO,IAAI,CAACtB,IAAI,CAAE,KAAG,CAAEsB,IAAI,CAACpB,MAAM,CAAE,IACtD,cAAAR,IAAA,WACO2B,OAAO,CACVA,CAAA,GAAMT,UAAU,CAACU,IAAI,CAACb,EAAE,CAAG,CAAAM,QAAA,CAAE,UAAQ,CAAS,CAAC,IAAC,GAHzCO,IAAI,CAACb,EAIb,CACN,CAAC,CACL,GAAC,EACC,CAAC,IAAC,EACD,CAAC,CAEb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}